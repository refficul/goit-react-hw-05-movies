"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[189],{189:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var r,i,o,a,p,c,s,x,u,l=t(433),d=t(861),f=t(439),g=t(757),h=t.n(g),b=t(168),m=t(924),y=m.ZP.div(r||(r=(0,b.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),v=m.ZP.button(i||(i=(0,b.Z)(["\n  display: inline-block;\n  margin-right: 20px;\n  border-radius: 8px;\n  height: 38px;\n  border: 0;\n  font-size: 15px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n"]))),Z=m.ZP.input(o||(o=(0,b.Z)(["\n  display: inline;\n  height: 38px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  outline: none;\n  padding-left: 14px;\n  padding-right: 4px;\n"]))),k=t(184),j=function(n){var e=n.onChange;return(0,k.jsx)(y,{children:(0,k.jsxs)("form",{onSubmit:function(n){return e(n)},children:[(0,k.jsx)(v,{type:"submit",children:"Search"}),(0,k.jsx)(Z,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies ",name:"keyword"})]})})},w=t(87),z=t(689),P=(0,m.ZP)(w.OL)(a||(a=(0,b.Z)(["\n  color: blue;\n\n  &.active {\n    color: orange;\n  }\n"]))),_=function(n){var e=n.movies,t=(0,z.TH)();return(0,k.jsx)("ul",{children:e.map((function(n){return(0,k.jsx)(P,{to:"/movies/".concat(n.id),state:{from:t},children:(0,k.jsxs)("li",{children:[n.name||n.title,(0,k.jsxs)("span",{children:[" (",n.release_date,")"]})]})},n.id)}))})},S=t(791),C=t(197),q=(m.ZP.div(p||(p=(0,b.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),m.ZP.button(c||(c=(0,b.Z)(["\n  display: inline-block;\n  margin-right: 20px;\n  border-radius: 8px;\n  height: 38px;\n  border: 0;\n  font-size: 15px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n"]))),m.ZP.button(s||(s=(0,b.Z)(["\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  color: #fff;\n  border: 0;\n  margin: 20px auto;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n"])))),F=(m.ZP.input(x||(x=(0,b.Z)(["\n  display: inline;\n  /* width: 100%; */\n  height: 38px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  outline: none;\n  padding-left: 14px;\n  padding-right: 4px;\n"]))),m.ZP.h3(u||(u=(0,b.Z)(["\n  color: blue;\n\n  margin-left: 70px;\n"])))),T=function(){var n=(0,w.lr)(),e=(0,f.Z)(n,2),t=e[0],r=e[1],i=t.get("query"),o=t.get("page"),a="/search/movie",p=(0,S.useState)([]),c=(0,f.Z)(p,2),s=c[0],x=c[1],u=(0,S.useState)(!1),g=(0,f.Z)(u,2),b=g[0],m=g[1],y=(0,S.useState)(0),v=(0,f.Z)(y,2),Z=v[0],z=v[1];console.log(i,o,a,s);return(0,S.useEffect)((function(){function n(){return(n=(0,d.Z)(h().mark((function n(){var e;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,C.a)(a,i,o);case 3:e=n.sent,z(e.data.total_pages),x((function(n){return(0,l.Z)(e.data.results)})),console.log(e.data),Z>19&&m(!0),n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(0),console.error(n.t0),alert("something wrong"),n.abrupt("return",n.t0);case 15:return n.prev=15,n.finish(15);case 17:case"end":return n.stop()}}),n,null,[[0,10,15,17]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[i,o,Z]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:(0,k.jsx)(j,{onChange:function(n){n.preventDefault();var e=n.currentTarget;r({query:e.elements.keyword.value,page:1}),x([])}})}),(0,k.jsx)("ul",{children:(0,k.jsx)(_,{movies:s})}),b&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(F,{children:["Page: ",o," Total pages : ",Z]}),(0,k.jsx)(q,{onClick:function(){return o=parseInt(o)+1,console.log(o,typeof o),void r({query:i,page:o})},children:"load more"})]})]})}},197:function(n,e,t){t.d(e,{a:function(){return p}});var r=t(861),i=t(757),o=t.n(i),a=t(340),p=function(){var n=(0,r.Z)(o().mark((function n(e,t,r){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("".concat("https://api.themoviedb.org/3").concat(e),{params:{api_key:"0e060fef59f82b92b22ec2f5c3e6f8ae",language:"en-US",query:t,page:r,include_adult:!0}});case 2:return i=n.sent,n.abrupt("return",i);case 4:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=189.b9b1e460.chunk.js.map