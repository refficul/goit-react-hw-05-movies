{"version":3,"file":"static/js/189.b9b1e460.chunk.js","mappings":"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","sources":["components/SearchForm/SEarchForm.styled.js","components/SearchForm/SearchForm.js","components/moviesList/moviesList.js","pages/Movies/Movie,styled.js","pages/Movies/MoviesPage.js","takeApi.js"],"sourcesContent":["import styled from 'styled-components';\nexport const Searchbar = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  margin-right: 20px;\n  border-radius: 8px;\n  height: 38px;\n  border: 0;\n  font-size: 15px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline;\n  height: 38px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  outline: none;\n  padding-left: 14px;\n  padding-right: 4px;\n`;\n","import {\n  Searchbar,\n  SearchFormButton,\n  SearchFormInput,\n} from './SEarchForm.styled';\nexport const SearchForm = ({ onChange }) => {\n  return (\n    <Searchbar>\n      <form onSubmit={evt => onChange(evt)}>\n        <SearchFormButton type=\"submit\">Search</SearchFormButton>\n        <SearchFormInput\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies \"\n          name=\"keyword\"\n        ></SearchFormInput>\n      </form>\n    </Searchbar>\n  );\n};\n","import styled from 'styled-components';\nimport { NavLink, useLocation } from 'react-router-dom';\nconst StyledLink = styled(NavLink)`\n  color: blue;\n\n  &.active {\n    color: orange;\n  }\n`;\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(movie => {\n        return (\n          <StyledLink\n            to={`/movies/${movie.id}`}\n            state={{ from: location }}\n            key={movie.id}\n          >\n            <li>\n              {movie.name || movie.title}\n              <span> ({movie.release_date})</span>\n            </li>\n          </StyledLink>\n        );\n      })}\n    </ul>\n  );\n};\n","import styled from 'styled-components';\nexport const Searchbar = styled.div`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  margin-right: 20px;\n  border-radius: 8px;\n  height: 38px;\n  border: 0;\n  font-size: 15px;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n`;\nexport const LoadMoreButton = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  color: #fff;\n  border: 0;\n  margin: 20px auto;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const SearchFormInput = styled.input`\n  display: inline;\n  /* width: 100%; */\n  height: 38px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  border-radius: 8px;\n  outline: none;\n  padding-left: 14px;\n  padding-right: 4px;\n`;\nexport const Page = styled.h3`\n  color: blue;\n\n  margin-left: 70px;\n`;\n","import { SearchForm } from 'components/SearchForm/SearchForm';\nimport { MoviesList } from 'components/moviesList/moviesList';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchApi } from 'takeApi';\nimport { LoadMoreButton, Page } from './Movie,styled';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const keyWord = searchParams.get('query');\n  let page = searchParams.get('page');\n  const endPoint = '/search/movie';\n  const [movies, setMovies] = useState([]);\n  const [btnLoadMore, setBtnLoadMore] = useState(false);\n  const [totalPages, setTotalPages] = useState(0);\n\n  console.log(keyWord, page, endPoint, movies);\n\n  const onChange = evt => {\n    evt.preventDefault();\n    const form = evt.currentTarget;\n    setSearchParams({ query: form.elements.keyword.value, page: 1 });\n    setMovies([]);\n  };\n\n  const pageChange = () => {\n    page = parseInt(page) + 1;\n    console.log(page, typeof page);\n    setSearchParams({ query: keyWord, page: page });\n  };\n\n  useEffect(() => {\n    async function getI() {\n      try {\n        const resp = await fetchApi(endPoint, keyWord, page);\n\n        setTotalPages(resp.data.total_pages);\n        setMovies(p => [...resp.data.results]);\n        console.log(resp.data);\n        if (totalPages > 19) {\n          setBtnLoadMore(true);\n        }\n      } catch (error) {\n        console.error(error);\n        alert('something wrong');\n        return error;\n      } finally {\n      }\n    }\n    getI();\n  }, [keyWord, page, totalPages]);\n\n  return (\n    <>\n      <div>\n        <SearchForm onChange={onChange}></SearchForm>\n      </div>\n      <ul>\n        <MoviesList movies={movies}></MoviesList>\n      </ul>\n      {btnLoadMore && (\n        <>\n          <Page>\n            Page: {page} Total pages : {totalPages}\n          </Page>\n          <LoadMoreButton onClick={() => pageChange()}>\n            load more\n          </LoadMoreButton>\n        </>\n      )}\n    </>\n  );\n};\nexport default Movies;\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchApi = async (endPoint, keyWord, page) => {\n  const resp = await axios.get(`${BASE_URL}${endPoint}`, {\n    params: {\n      api_key: '0e060fef59f82b92b22ec2f5c3e6f8ae',\n      language: 'en-US',\n      query: keyWord,\n      page: page,\n      include_adult: true,\n    },\n  });\n\n  return resp;\n};\n"],"names":["Searchbar","styled","_templateObject","_taggedTemplateLiteral","SearchFormButton","_templateObject2","SearchFormInput","_templateObject3","SearchForm","_ref","onChange","_jsx","children","_jsxs","onSubmit","evt","type","autoComplete","autoFocus","placeholder","name","StyledLink","NavLink","MoviesList","movies","location","useLocation","map","movie","to","concat","id","state","from","title","release_date","LoadMoreButton","Page","_templateObject4","_templateObject5","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","keyWord","get","page","endPoint","_useState","useState","_useState2","setMovies","_useState3","_useState4","btnLoadMore","setBtnLoadMore","_useState5","_useState6","totalPages","setTotalPages","console","log","useEffect","_getI","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","fetchApi","sent","data","total_pages","p","_toConsumableArray","results","t0","error","alert","abrupt","finish","stop","apply","arguments","getI","_Fragment","preventDefault","form","currentTarget","query","elements","keyword","value","onClick","parseInt","axios","params","api_key","language","include_adult","_x","_x2","_x3"],"sourceRoot":""}